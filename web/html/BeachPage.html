<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hangman | Beach</title>
    <link rel="stylesheet" type="text/css" href="../css/BeachPage.css">

</head>

<body>
<div class="mainWrap">
<script>

    var words = ["towel", "sunscreen", "lifeguard", "sand", "saltwater", "sunbathe", "sunglasses", "sandcastle", "sunburn", "seagull",
        "floatie", "lemonade", "splash", "waves", "surfboard", "boardwalk", "dock", "ocean", "bikini", "driftwood",
        "boogieboard", "popsicle", "seaweed", "sunshine", "boat", "marina", "parasailing", "surf", "shore", "coast",
        "conch", "frisbee", "kite", "motorboat", "snorkle", "coral", "swimsuit", "tidepool", "reef", "vacation",
        "seashell", "barnacle", "beachball", "clam", "crab", "fishing", "jellyfish", "lifeguard", "paddleboat", "pier"];
    var keyboardIds = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
    var correctWord;
    var letterArray;
    var guessesLeft = 8;
    var arrayToFill;

    function generateWord() {
        var codeNumber = Math.floor(Math.random() * Math.floor(words.length));
        correctWord = words[codeNumber];
        console.log(correctWord);
        letterArray = new Array(correctWord.length);
        for (var i = 0; i < correctWord.length; i++) {
            letterArray[i] = correctWord.charAt(i);
        }
        arrayToFill = [];
        for (var i = 0; i < correctWord.length; i++) {
            arrayToFill[i] = " ";
        }
    }

    function makeGuess(buttonId) {
        console.log(buttonId);
        var element = document.getElementById(buttonId);
        element.disabled = true;
    }

    function checkAnswer(buttonId) {
        var inWord = false;
        for (var i = 0; i < correctWord.length; i++) {
            if (letterArray[i] === buttonId.toLowerCase())
                inWord = true;
        }
        return inWord;
    }

    function setColor(buttonId) {
        if (checkAnswer(buttonId)) {
            document.getElementById(buttonId).style.backgroundColor = "#7CEC73";
        }
        else {
            document.getElementById(buttonId).style.backgroundColor = "#ED6464";
        }
    }

    function writeGuesses(buttonId) {
        if (!checkAnswer(buttonId)) {
            guessesLeft--;
        }
        document.getElementById("numGuesses").innerHTML = guessesLeft.toString();
    }

    function disableKeyboard() {
        keyboardIds.forEach(l =>
            document.getElementById(l).disabled = true
        )}

    var img = "../images/winnerpic.png";
    var firstImg = "../images/loserpic.png";

    function loser() {
        if (guessesLeft === 0) {
            document.getElementById("loser").src = firstImg.toString();
            document.getElementById("playAgain").style.display = "block";
            document.getElementById("newCategory").style.display = "block";
            document.getElementById("afterGameWord").innerHTML = "The word was: " + correctWord;
            disableKeyboard();

        }
        if (arrayToFill.indexOf(" ") === -1) {
            document.getElementById("winner").src = img.toString();
            document.getElementById("playAgain").style.display = "block";
            document.getElementById("newCategory").style.display = "block";
            document.getElementById("afterGameWord").innerHTML = "The word was: " + correctWord;
            disableKeyboard();
        }
    }

    function writeLetters(buttonId) {
        if (checkAnswer(buttonId)) {
            for (var i = 0; i < correctWord.length; i++) {
                if (letterArray[i] === buttonId.toLowerCase())
                    arrayToFill[i] = buttonId;
            }
        }
        if (correctWord.length < 8)
            document.getElementById("writtenLetters").innerHTML = arrayToFill.join(" ").toString();
        else
            document.getElementById("longWrittenLetters").innerHTML = arrayToFill.join("").toString();
    }

    var manArray = new Array();
    manArray[0] = "../images/beach0.png"
    manArray[1] = "../images/beach1.png"
    manArray[2] = "../images/beach2.png"
    manArray[3] = "../images/beach3.png"
    manArray[4] = "../images/beach4.png"
    manArray[5] = "../images/beach5.png"
    manArray[6] = "../images/beach6.png"
    manArray[7] = "../images/beach7.png"

    function displayMan() {
        if (guessesLeft<8) {
            document.getElementById("manPicture").src = manArray[7-guessesLeft].toString();
        }
    }

    generateWord();

</script>

    <img src="" id="manPicture" style="position: absolute; top: 33.2%; right:17.8%; z-index: 1">
    <pre id = "writtenLetters"> </pre>
    <pre id = "longWrittenLetters"> </pre>
    <table id="dashes">
    <script>
        if (correctWord.length <= 7) {
            for (var i = 0; i < correctWord.length; i++) {
                document.write('<td><span id = "indvletters">' + "_ " + '</span></td>');
            }
        }
        else {
            for (var x = 0; x < correctWord.length; x++) {
                document.write('<td><span id = "longWord">' + "_ " + '</span></td>')
            }
        }
    </script>
</table>
<a href="BeachPage.html"><button id= "playAgain" style="display:none">Play Again</button></a>
<a href="Homepage.html"><button id = "newCategory" style="display:none">New Category</button></a>
<p id="afterGameWord"></p>
<img src="" id="winner">
<img src="" id="loser">
<a href="Homepage.html">
    <button style="background-image:url(../images/homeicon.png); position: absolute; top: 15%"></button>
</a>

<div>

    <table style="margin-left: 100px">
        <tr>
            <td><button id="Q" onClick="makeGuess('Q'); setColor('Q'); writeGuesses('Q'); writeLetters('Q'); loser(); displayMan()">Q</button></td>
            <td><button id="W" onClick="makeGuess('W'); setColor('W'); writeGuesses('W'); writeLetters('W'); loser(); displayMan()">W</button></td>
            <td><button id="E" onClick="makeGuess('E'); setColor('E'); writeGuesses('E'); writeLetters('E'); loser(); displayMan()">E</button></td>
            <td><button id="R" onClick="makeGuess('R'); setColor('R'); writeGuesses('R'); writeLetters('R'); loser(); displayMan()">R</button></td>
            <td><button id="T" onClick="makeGuess('T'); setColor('T'); writeGuesses('T'); writeLetters('T'); loser(); displayMan()">T</button></td>
            <td><button id="Y" onClick="makeGuess('Y'); setColor('Y'); writeGuesses('Y'); writeLetters('Y'); loser(); displayMan()">Y</button></td>
            <td><button id="U" onClick="makeGuess('U'); setColor('U'); writeGuesses('U'); writeLetters('U'); loser(); displayMan()">U</button></td>
            <td><button id="I" onClick="makeGuess('I'); setColor('I'); writeGuesses('I'); writeLetters('I'); loser(); displayMan()">I</button></td>
            <td><button id="O" onClick="makeGuess('O'); setColor('O'); writeGuesses('O'); writeLetters('O'); loser(); displayMan()">O</button></td>
            <td><button id="P" onClick="makeGuess('P'); setColor('P'); writeGuesses('P'); writeLetters('P'); loser(); displayMan()">P</button></td>
        </tr>
    </table>
    <table style="margin-left: 130px">
        <tr>
            <td><button id="A" onClick="makeGuess('A'); setColor('A'); writeGuesses('A'); writeLetters('A'); loser(); displayMan()">A</button></td>
            <td><button id="S" onClick="makeGuess('S'); setColor('S'); writeGuesses('S'); writeLetters('S'); loser(); displayMan()">S</button></td>
            <td><button id="D" onClick="makeGuess('D'); setColor('D'); writeGuesses('D'); writeLetters('D'); loser(); displayMan()">D</button></td>
            <td><button id="F" onClick="makeGuess('F'); setColor('F'); writeGuesses('F'); writeLetters('F'); loser(); displayMan()">F</button></td>
            <td><button id="G" onClick="makeGuess('G'); setColor('G'); writeGuesses('G'); writeLetters('G'); loser(); displayMan()">G</button></td>
            <td><button id="H" onClick="makeGuess('H'); setColor('H'); writeGuesses('H'); writeLetters('H'); loser(); displayMan()">H</button></td>
            <td><button id="J" onClick="makeGuess('J'); setColor('J'); writeGuesses('J'); writeLetters('J'); loser(); displayMan()">J</button></td>
            <td><button id="K" onClick="makeGuess('K'); setColor('K'); writeGuesses('K'); writeLetters('K'); loser(); displayMan()">K</button></td>
            <td><button id="L" onClick="makeGuess('L'); setColor('L'); writeGuesses('L'); writeLetters('L'); loser(); displayMan()">L</button></td>
        </tr>
    </table>
    <table style="margin-left: 203px">
        <tr>
            <td><button id="C" onClick="makeGuess('C'); setColor('C'); writeGuesses('C'); writeLetters('C'); loser(); displayMan()">C</button></td>
            <td><button id="X" onClick="makeGuess('X'); setColor('X'); writeGuesses('X'); writeLetters('X'); loser(); displayMan()">X</button></td>
            <td><button id="Z" onClick="makeGuess('Z'); setColor('Z'); writeGuesses('Z'); writeLetters('Z'); loser(); displayMan()">Z</button></td>
            <td><button id="V" onClick="makeGuess('V'); setColor('V'); writeGuesses('V'); writeLetters('V'); loser(); displayMan()">V</button></td>
            <td><button id="B" onClick="makeGuess('B'); setColor('B'); writeGuesses('B'); writeLetters('B'); loser(); displayMan()">B</button></td>
            <td><button id="N" onClick="makeGuess('N'); setColor('N'); writeGuesses('N'); writeLetters('N'); loser(); displayMan()">N</button></td>
            <td><button id="M" onClick="makeGuess('M'); setColor('M'); writeGuesses('M'); writeLetters('M'); loser(); displayMan()">M</button></td>
        </tr>
    </table>

    <img src="../images/hanger.png" id="hanger"
         style="width: 500px; height: 600px; float:right;"/>

    <p id="guesses"><b>Guesses Left: </b></p>
    <p id="numGuesses">8</p>
</div>

</body>
</html>